# Chapter 2

> 여기는 매우 중요해요

## 1. TCP와 UDP의 차이점

1. TCP는 연결형 서비스로 신뢰성을 보장합니다. 신뢰성 보장을 위해 오류제어, 흐름제어, 혼잡제어를 제공합니다. 
2. UDP는 비연결형 서비스로 비신뢰적이지만 속도가 빨라서 실시간 스트리밍에 사용됩니다.

요즘에는 섞어서도 씁니다. (유튜브 실시간 스트리밍)

#### 💢 아래는 꼬리 질문 대비용

 위에서 TCP는 접속 시작과 끝 부분에서 3 way, 4 way handshake 등으로 접속 동작의 단계가 있다. 또한, 패킷을 하나 받을 때마다 받았다고 ACK를 1로 하여 답신한다. 큰 데이터에서 일부 패킷이 누락된 경우 그 하나의 패킷이 누락된 것을 파악하고 재송신 하는 경우에 유용하다. 하지만 작은 데이터나, 하나의 단일 데이터를 보내는데 이러한 복잡한 동작이 필요하지는 않을 것이다. TCP는 정확하고, 안전하게 패킷을 보내지만, 빠르지는 않다. 

 그래서 수정 송신이 필요없는 데이터(보내기만 하는), 제어용 짧은 데이터, 음성 및 영상 데이터들은 UDP 프로토콜을 사용하기도 한다. UDP는 TCP와 다르게 한번에 모든 데이터를 전부 보낸뒤에 수신응답을 받는다. 그래서 대량의 데이터를 주고 받는 다면, 한개의 패킷이 잘못되었어도 전체를 다시 보내야 해서 비효율적이지만 위에서 언급한 경우에서는 오히려 효율적이다.

## 2. 3 way handshake와 4 way handshake

 3 way handshake와 4 way handshake는 TCP에서 사용되는 기법으로 3 way handshake의 경우에는 클라이언트와 서버간의 연결을 위한 동작이고 4 way handshake는 그 접속을 해제하는 동작이다.

#### 💢 아래는 꼬리 질문 대비용

`3 way handshake`

1. 서버 측에서 요청 신청
2. 서버에서 이 요청을 보낸 클라이언트에게 연결을 허락하는 메세지를 보내면서 동시에 클라이언트에 정보를 보내도 되는지 신청(정말 나한테 보낸 요청 맞아 ? 라고 물어보는 느낌)
3. 보내도 된다고 허락 

`4 way handshake`

1. 클라이언트에서 서버에 더 보낼 데이터 없다고 알려줍니다.(그러니까 request에 따른 모든 데이터를 전송한 겁니다.)

2. 그러면 서버에서 알겠다고 합니다.(더 데이터를 보내지 않아도 되는구나 오키오키)

3. 서버에서 클라이언트에게 나 이제 그럼 연결 끊어도 되지 ? 물어봅니다.

4. 클라이언트가 그래도 된다고 하면 그때 연결이 완벽히 끊깁니다.

   

## 3. OSI 7계층과 TCP/IP 4계층에 대해 설명해주세요.

OSI 7계층 - 물리 / 링크 / 네트워크 / 전송 / 세션 / 표현 / 응용

![img](https://camo.githubusercontent.com/abb5beca5cd3003722a4a9bf8dd3b173183f60d51fbbe8bf282b7efd11afbb39/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532466272474779752532466274717a6963306f3754652532467a434c516b3161715135786b3572337656686c4a6e4b253246696d672e706e67)

TCP/IP 4계층 - 네트워크 / 인터넷 / 전송 / 응용

- 네트워크 계층(Network Layer)

  - MAC 주소를 참조해 장비 간 데이터 송수신
  - 브리지, 스위치

- 인터넷 계층(Internet Layer)

  - 데이터 전송을 위한 IP 주소 지정 및 경로 지정
  - 라우터

- 전송 계층(Transport Layer)

  - Port 번호로 호스트 간의 연결 제어 및 자료 송수신
  - 게이트 웨이

- 응용 계층(Application Layer)

  - 응용프로그램 간의 데이터 송수신

  - 사용자 응용 프로그램 인터페이스

    

## 4. 데이터 송수신 과정에 대해 간략하게 설명하세요.

1. 프로토콜 스택에 HTTP 리퀘스트 메세지를 넘긴다.
2. 데이터가 클 때는 분할하여 보낸다
3. ACK 번호를 사용하여 패킷이 도착했는지 확인한다.
4. 패킷 평균 왕복 시간으로 ACK 번호의 대기시간을 조정한다.
5. 윈도우 제어방식으로 효율적으로 ACK 번호를 관리한다.
6. ACK 번호와 윈도우를 합승한다.
7. HTTP 응답 메세지를 수신한다.